<!DOCTYPE html>
<html lang="en">

<head th:replace="layout :: head">

</head>

<body class="sb-nav-fixed">
	<nav class="sb-topnav navbar navbar-expand navbar-dark bg-primary">
		<div th:replace="layout :: brand"></div>
		<form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">

		</form>

		<ul th:replace="layout :: navbar">

		</ul>
	</nav>
	<div id="layoutSidenav">
		<div id="layoutSidenav_nav">
			<nav class="sb-sidenav accordion text-dark" id="sidenavAccordion">
				<div class="sb-sidenav-menu">
					<div class="nav" th:replace="layout :: sidenav">

					</div>
				</div>
				<div th:replace="layout :: user">

				</div>
			</nav>
		</div>
		<div id="layoutSidenav_content">
			<main>

				<div class="container-fluid px-4">
					<h1 class="mt-4">Listar Sucursales</h1>
					<ol class="breadcrumb mb-4">
						<li class="breadcrumb-item"><a th:href="@{/}">Tablero</a></li>
						<li class="breadcrumb-item active">Listar Sucursales</li>
					</ol>
					<div class="card mb-4">
						<div class="card-body">
							Aquí se detallan las sucursales registradas. Puede consultar el Manual del Usuario en:
							<a target="_blank" href="https://datatables.net/">Manual del Usuario</a>
							.
						</div>
					</div>
					<div class="card mb-4">
						<div class="card-header">
							<i class="fas fa-table me-1"></i>
							Sucursales
						</div>
						<div class="card-body">
						<div class="table-responsive">
							<table class="table table-striped table-sm text-center" id="datatablesSimple">
								<thead>
									<tr>
										<th>ID</th>
										<th>Nombre</th>
										<th>Dirección</th>
										<th>Localidad</th>
										<th>¿Central?</th>
										<th>Pto.</th>
										
										<th>¿Activo?</th>
											<th>Detalles</th>
									</tr>
								</thead>
								<tfoot>
									<tr>
										<th>ID</th>
										<th>Nombre</th>
										<th>Dirección</th>
										<th>Localidad</th>
										<th>¿Central?</th>
										<th>Pto.</th>
									
										<th>¿Activo?</th>
										<th>Detalles</th>
									</tr>
								</tfoot>
								<tbody>

									<tr th:each="sucursal : ${sucursales}">
										<td>
										<a th:text="${sucursal.id_sucursal}" 
										th:href="@{/sucursales/registrar/} + ${sucursal.id_sucursal}"> </a>
										</td>
										<td th:text="${sucursal.nombre_sucursal}"></td>
										<td th:text="${sucursal.direccion}"></td>
										<td th:text="${sucursal.id_localidad2.localidad + ', ' + sucursal.id_localidad2.provincia.prov}">Software Engineer</td>
										<td th:text="${sucursal.es_casa_central ? 'Si':'No'}" th:classappend="${sucursal.es_casa_central ? 'text-success':'text-primary'}"></td>
										<td th:text="${sucursal.puntoventaafip}"></td>
										
										<td >
										<a th:text="${sucursal.activo ? 'Si':'No'}" th:classappend="${sucursal.activo ? 'text-success':'text-danger'}"
										th:href="@{/sucursales/deshabilitar/} + ${sucursal.id_sucursal}"> </a>
										</td>
										<td >
										<a th:if="${sucursal.usuarios_sucursales.size() > 0 and sucursal.activo}"
										th:href="@{/sucursales/detalles/} + ${sucursal.id_sucursal}"> Detalles </a>
										</td>
									</tr>

								</tbody>
							</table>
						</div>
						</div>
					</div>
				</div>

			</main>
			<footer th:replace="layout :: footer">

			</footer>
		</div>
	</div>
	<div th:replace="layout :: script">

	</div>
</body>

</html>